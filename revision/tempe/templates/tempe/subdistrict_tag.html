<subdistrict>

    <form>
        <input id="input" placeholder="Subdistrito">
        <select id="sub">
            <option each={districts} value={url} selected={name}>{name}</option>
        </select>
        <button onclick={add}>add subdistrict</button>
    </form>

    
    var self = this
    self.subdistricts = []

    self.on('mount', function(){
        $.get('/api/districts/', function(data){
            self.districts = data.results
            self.update()
        })
    })

    add(e){
        if(self.input.value){
            var subdistrict = {'name': input.value, 'district': sub.value}
            console.log(sub.value)
            $.post('/api/subdistricts/', subdistrict, function(data){
                self.subdistricts.push(data)
                self.input.value = ''
                self.update()
            })
            }
         }

</subdistrict>
